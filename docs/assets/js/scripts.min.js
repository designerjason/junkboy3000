class materialJunk{constructor(){this.junkList="assets/js/junklist.js";this.materialList="assets/js/materiallist.js";this.jsonResponse="";this.selectContainer=document.getElementById("materialselect");this.junkContainer=document.getElementById("junklist")}init(){this.buildSelect(this.materialList);document.addEventListener("change",()=>{let materialSelect=document.getElementById("materialselect").value;this.getFiltered(materialSelect)})}buildSelect(jsonArr){fetch(jsonArr).then(res=>res.json()).then(data=>{this.selectContainer.innerHTML+="<option value='' selected disabled>Select Material</option>";data.forEach(element=>{this.selectContainer.innerHTML+=`<option value="${element.name}">${element.name}</option>`})}).catch(err=>{throw err})}getFiltered(term){fetch(this.junkList).then(res=>res.json()).then(data=>{let data_filter=data.filter(element=>element.materials[0].includes(term));this.listJunk(data_filter)}).catch(err=>{throw err})}listJunk(filtered){let data_output="",junkEl=this.junkContainer;junkEl.innerHTML="";data_output+="<table>";data_output+="<thead><tr><th>Name</th><th>Weight</th><th>Value</th><th>Materials</th></tr></thead><tbody>";filtered.forEach(item=>{data_output+=`<tr>
            <td>${item.name}</td>
            <td>${item.weight}</td>
            <td>${item.value}</td>
            <td>${item.materials.join(", ")}</td>
            </tr>`});data_output+="</tbody></table>";junkEl.innerHTML=data_output}}const myClass=new materialJunk;myClass.init();